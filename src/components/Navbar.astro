---
const { hideCTA = false } = Astro.props;
---
<header class="fixed top-0 left-0 right-0 z-50 h-20 bg-[#0A0A0A]/80 backdrop-blur-md border-b border-white/10 flex items-center transition-all duration-300" id="navbar">
  <div class="container mx-auto px-4 flex items-center justify-between h-full">
    <!-- Logo -->
    <a href="/" class="flex items-center gap-2 group">
      <div class="w-8 h-8 rounded bg-gradient-to-tr from-accent to-blue-400 flex items-center justify-center transform transition-transform group-hover:scale-110 shadow-[0_0_15px_rgba(59,130,246,0.5)]">
         <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="text-white"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="2"></circle><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path><path d="M2.05 12h19.9"></path></svg>
      </div>
      <span class="text-xl font-bold tracking-tighter text-white group-hover:text-accent transition-colors">
        System<span class="text-accent">Pros</span>
      </span>
    </a>

    <!-- Center Menu -->
    <nav class="hidden lg:flex items-center gap-8 h-full">
      <a href="/voice-ai" class="nav-link text-sm font-medium text-secondary hover:text-white transition-colors">Voice AI</a>
      <a href="/industries" class="nav-link text-sm font-medium text-secondary hover:text-white transition-colors">Industries</a>
      <a href="/consulting" class="nav-link text-sm font-medium text-secondary hover:text-white transition-colors">Consulting</a>
      <a href="/about" class="nav-link text-sm font-medium text-secondary hover:text-white transition-colors">The Team</a>
      <a href="/pricing" class="nav-link text-sm font-medium text-secondary hover:text-white transition-colors">Pricing</a>
    </nav>

    <!-- Right Action Area -->
    <div class="flex items-center gap-6">
      {!hideCTA && (
      <a href="/contact" class="hidden sm:flex btn-primary-sm bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white px-6 py-2.5 rounded-full text-sm font-semibold shadow-[0_0_20px_rgba(59,130,246,0.3)] hover:shadow-[0_0_30px_rgba(59,130,246,0.5)] transition-all hover:scale-105 items-center gap-2">
         Book Consultation
      </a>
      )}
      
      <!-- Mobile Menu Button -->
      <button id="mobile-menu-btn" class="lg:hidden text-white hover:text-accent transition-colors p-2" aria-label="Open Menu">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
      </button>
    </div>
  </div>
</header>

<!-- Mobile Menu Overlay -->
<div id="mobile-menu" class="fixed inset-0 bg-[#050505]/95 backdrop-blur-xl z-[60] flex flex-col items-center justify-center gap-8 opacity-0 pointer-events-none transition-all duration-300">
    <button id="close-menu-btn" class="absolute top-6 right-6 text-white/50 hover:text-white transition-colors p-2" aria-label="Close Menu">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
    </button>

    <nav class="flex flex-col items-center gap-8">
        <a href="/voice-ai" class="mobile-nav-link text-2xl font-bold text-white hover:text-accent transition-colors">Voice AI</a>
        <a href="/industries" class="mobile-nav-link text-2xl font-bold text-white hover:text-accent transition-colors">Industries</a>
        <a href="/consulting" class="mobile-nav-link text-2xl font-bold text-white hover:text-accent transition-colors">Consulting</a>
        <a href="/about" class="mobile-nav-link text-2xl font-bold text-white hover:text-accent transition-colors">The Team</a>
        <a href="/pricing" class="mobile-nav-link text-2xl font-bold text-white hover:text-accent transition-colors">Pricing</a>
    </nav>
    
    {!hideCTA && (
    <a href="/contact" class="btn-primary mt-4 bg-gradient-to-r from-blue-600 to-blue-500 text-white px-8 py-4 rounded-full text-lg font-semibold shadow-[0_0_20px_rgba(59,130,246,0.3)]">
        Book Consultation
    </a>
    )}
</div>

<script is:inline>
    document.addEventListener('DOMContentLoaded', () => {
        const menuBtn = document.getElementById('mobile-menu-btn');
        const closeBtn = document.getElementById('close-menu-btn');
        const menu = document.getElementById('mobile-menu');
        const navLinks = document.querySelectorAll('.mobile-nav-link');

        function openMenu() {
            if (menu) {
                menu.classList.remove('opacity-0', 'pointer-events-none');
                document.body.style.overflow = 'hidden'; // Prevent scrolling
            }
        }

        function closeMenu() {
            if (menu) {
                menu.classList.add('opacity-0', 'pointer-events-none');
                document.body.style.overflow = ''; // Restore scrolling
            }
        }

        if (menuBtn) menuBtn.addEventListener('click', openMenu);
        if (closeBtn) closeBtn.addEventListener('click', closeMenu);

        // Close menu when clicking a link
        navLinks.forEach(link => {
            link.addEventListener('click', closeMenu);
        });
    });
</script>
